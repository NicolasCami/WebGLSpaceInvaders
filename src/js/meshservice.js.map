{"version":3,"sources":["meshservice.ts"],"names":[],"mappings":"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","file":"meshservice.js","sourcesContent":["import { MaterialService } from \"./materialservice\";\n\nexport class MeshService {\n\n    static meshes: any;\n\n    static init() {\n\n        MeshService.meshes = {};\n\n        // block\n        MeshService.meshes.block = [];\n        MeshService.meshes.block.push();\n        let blockGeometries = [\n            new THREE.BoxGeometry(0.6, 0.6, 0.5),\n            new THREE.BoxGeometry(0.6, 0.6, 0.6),\n            new THREE.BoxGeometry(0.6, 0.6, 0.7),\n            new THREE.BoxGeometry(0.6, 0.6, 0.8),\n            new THREE.BoxGeometry(0.6, 0.6, 0.9),\n            new THREE.BoxGeometry(0.6, 0.6, 1.0),\n        ];\n        blockGeometries.forEach(function(geometry){\n            MaterialService.getByName('block').forEach(function(material){\n                let mesh = new THREE.Mesh(geometry, material);\n                mesh.castShadow = true;\n                MeshService.meshes.block.push(mesh);\n            });\n        });\n\n        // pad\n        MeshService.meshes['pad'] = [MeshService.createMesh({\n            content : ',          **      **,         *  *    *  *,         *  *    *  *,          **      **,          **      **,         *  *    *  *,         *  *    *  *,          **      **/*                            *,          **      **,         **** ** ****,         ************,         ************,         ************,         ************,         ************,          **      **,*                            */***                        ***,   **     **      **     **,     **  ************  **,       ****************,         ************,         ************,       ****************,     **  ************  **,   **     **      **     **,***                        ***/***                        ***,   **     **      **     **,     **  ************  **,       ****************,         ************,         ************,       ****************,     **  ************  **,   **     **      **     **,***                        ***/*                            *,          **      **,         **** ** ****,         ************,         ************,         ************,         ************,         ************,          **      **,*                            */*                            *,,              **,            ******,            ******,            ******,            ******,              **,,*                            */*                            *,,              **,            ******,            ******,            ******,            ******,              **,,*                            */*                            *,,              **,            ******,            ******,            ******,            ******,              **,,*                            */*                            *,,              **,            ******,            ******,            ******,            ******,              **,,*                            */*                            *,,              **,            ******,            ******,            ******,            ******,              **,,*                            */,,              **,            ******,            ******,            ******,            ******,              **/,,              **,            ******,            ******,            ******,            ******,              **/,,,             ****,            ******,            ******,             ****,/,,,             ****,            ******,            ******,             ****,/,,,              **,             ****,             ****,              **/',\n            modelSize : {x:1.5,y:0.75,z:1.0},\n            material : MaterialService.getByName('pad'),\n            blockSize : 0.05,\n            axe : 'y',\n        })];\n\n        // alien\n        MeshService.meshes['alien-bottom-1'] = [];\n        MeshService.meshes['alien-bottom-2'] = [];\n        MeshService.meshes['alien-middle-1'] = [];\n        MeshService.meshes['alien-middle-2'] = [];\n        MeshService.meshes['alien-top-1'] = [];\n        MeshService.meshes['alien-top-2'] = [];\n        MeshService.meshes['alien-bonus-1'] = [];\n        MeshService.meshes['alien-bonus-2'] = [];\n        MaterialService.getByName('alien-bottom').forEach(function(material){\n            MeshService.meshes['alien-bottom-1'].push(MeshService.createMesh({\n                content : '*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n            MeshService.meshes['alien-bottom-2'].push(MeshService.createMesh({\n                content : '  *    * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/  *    * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/  *    * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/  *    * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n        });\n        MaterialService.getByName('alien-middle').forEach(function(material){\n            MeshService.meshes['alien-middle-1'].push(MeshService.createMesh({\n                content : '**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n            MeshService.meshes['alien-middle-2'].push(MeshService.createMesh({\n                content : '   **  **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/   **  **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/   **  **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****/   **  **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n        });\n        MaterialService.getByName('alien-top').forEach(function(material){\n            MeshService.meshes['alien-top-1'].push(MeshService.createMesh({\n                content : '   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     */   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     */   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     */   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     *',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n            MeshService.meshes['alien-top-2'].push(MeshService.createMesh({\n                content : ' **     **,  *     *,  *******,***********,*** *** ***,* ******* *,*  *   *  *,  *     */ **     **,  *     *,  *******,***********,*** *** ***,* ******* *,*  *   *  *,  *     */ **     **,  *     *,  *******,***********,*** *** ***,* ******* *,*  *   *  *,  *     */ **     **,  *     *,  *******,***********,*** *** ***,* ******* *,*  *   *  *,  *     *',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n        });\n        MaterialService.getByName('alien-bonus').forEach(function(material){\n            MeshService.meshes['alien-bonus-1'].push(MeshService.createMesh({\n                content : '   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******/   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******/   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n            MeshService.meshes['alien-bonus-2'].push(MeshService.createMesh({\n                content : '   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******/   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******/   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******',\n                modelSize : {x:0.8,y:2,z:0.4},\n                material : [material],\n                axe: 'y',\n            }));\n        });\n\n        // menu\n        MeshService.meshes['menu'] = [];\n        MeshService.meshes['menu'].push(MeshService.createMesh({\n            content : '*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **/*        * , *      *,  * ** * , ********, ** ** **,  ******,   ****,    **',\n            modelSize : {x:0.8,y:2,z:0.4},\n            material : [new THREE.MeshBasicMaterial({\n                color:0x87b073,\n                side:THREE.DoubleSide\n            })],\n            axe: 'y',\n        }));\n        MeshService.meshes['menu'].push(MeshService.createMesh({\n            content : '**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,/**        **,  ** ** **,   **  **,************,***  **  ***,************, **********,    ****,',\n            modelSize : {x:0.8,y:2,z:0.4},\n            material : [new THREE.MeshBasicMaterial({\n                color:0x547289,\n                side:THREE.DoubleSide\n            })],\n            axe: 'y',\n        }));\n        MeshService.meshes['menu'].push(MeshService.createMesh({\n            content : '   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     */   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     */   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     */   ** **   ,* *     * *,* ******* *,***********, ** *** **,  *******,   *   *,  *     *',\n            modelSize : {x:0.8,y:2,z:0.4},\n            material : [new THREE.MeshBasicMaterial({\n                color:0x9d70ae,\n                side:THREE.DoubleSide\n            })],\n            axe: 'y',\n        }));\n        MeshService.meshes['menu'].push(MeshService.createMesh({\n            content : '   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******/   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******/   *        *,  ***  **  ***,****************, ** ** ** ** **,  ************,   **********,     ******',\n            modelSize : {x:0.8,y:2,z:0.4},\n            material : [new THREE.MeshBasicMaterial({\n                color:0xb83535,\n                side:THREE.DoubleSide\n            })],\n            axe: 'y',\n        }));\n\n        // missile\n        let padMissileGeometry = new THREE.BoxGeometry(0.1, 0.3, 0.1);\n        let padBigMissileGeometry = new THREE.BoxGeometry(0.3, 0.3, 0.3);\n        MeshService.meshes['missile-alien'] = [new THREE.Mesh(padMissileGeometry, MaterialService.getSingleByName('alienMissile'))];\n        MeshService.meshes['missile-pad'] = [new THREE.Mesh(padMissileGeometry, MaterialService.getSingleByName('padMissile'))];\n        MeshService.meshes['missile-pad-big'] = [new THREE.Mesh(padBigMissileGeometry, MaterialService.getSingleByName('padMissile'))];\n\n        // bonus\n        MeshService.meshes['bonus-missile'] = [MeshService.createMesh({\n            content : ',   **,  ****, ******, ******,  ****,   **/   **,  ****, ******,********,********, ******,  ****,   **/  ****, ******,********,********,********,********, ******,  ****/  ****, ******,********,********,********,********, ******,  ****/   **,  ****, ******,********,********, ******,  ****,   **/,   **,  ****, ******, ******,  ****,   **/',\n            modelSize : {x:0.8,y:0.8,z:1.0},\n            material : [new THREE.MeshPhongMaterial({ color: 0x2bb121, specular: 0xffffff, shininess: 200 })],\n            axe: 'z',\n        })];\n        MeshService.meshes['bonus-life'] = [MeshService.createMesh({\n            content : ',   **,  ****, ******, ******,  ****,   **/   **,  ****, ******,********,********, ******,  ****,   **/  ****, ******,********,********,********,********, ******,  ****/  ****, ******,********,********,********,********, ******,  ****/   **,  ****, ******,********,********, ******,  ****,   **/,   **,  ****, ******, ******,  ****,   **/',\n            modelSize : {x:0.8,y:0.8,z:1.0},\n            material : [new THREE.MeshPhongMaterial({ color: 0xf1eb42, specular: 0xffffff, shininess: 200 })],\n            axe: 'z',\n        })];\n\n        // world objects\n        MeshService.meshes['alien-limit'] = [MeshService.createMesh({\n            content : '  ****, ******,********,********,********,********, ******,  ****/   **,  ****, ******,********,********, ******,  ****,   **/,   **,  ****, ******, ******,  ****,   **/',\n            modelSize : {x:0.45,y:0.45,z:0.15},\n            material : [new THREE.MeshPhongMaterial({ color: 0xff0040, specular: 0xffffff, shininess: 200 })],\n            blockSize : 0.05,\n            axe: 'z',\n        })];\n\n    }\n\n    static getByName(name: string) {\n\n        let result;\n\n        if(name in MeshService.meshes) {\n            result = MeshService.meshes[name];\n        }\n        else {\n            throw new Error(\"MeshService: mesh does not exists: \" + name);\n        }\n\n        return result;\n\n    }\n\n    static getRandomByName(name: string) : THREE.Mesh {\n        return randFromArray(MeshService.getByName(name)).clone();\n    }\n\n    static createMesh(params: any) : THREE.Mesh {\n\n        var filePath = typeof params.filePath !== 'undefined' ? params.filePath : '';\n        var encoding = typeof params.encoding !== 'undefined' ? params.encoding : 'UTF-8';\n        var content = typeof params.content !== 'undefined' ? params.content : '';\n        var charEmpty = typeof params.charEmpty !== 'undefined' ? params.charEmpty : ' ';\n        var charFull = typeof params.charFull !== 'undefined' ? params.charFull : '*';\n        var separatorY = typeof params.separatorY !== 'undefined' ? params.separatorY : ',';\n        var separatorZ = typeof params.separatorZ !== 'undefined' ? params.separatorZ : '/';\n        var blockSize = typeof params.blockSize !== 'undefined' ? params.blockSize : 0.1;\n        var modelSize = typeof params.modelSize !== 'undefined' ? params.modelSize : {x:1.2,y:1.2,z:0.2};\n        var material = typeof params.material !== 'undefined' ? params.material : [MaterialService.getSingleByName('pad')];\n        var geometry = typeof params.geometry !== 'undefined' ? params.geometry : new THREE.BoxGeometry(0.1, 0.1, 0.1);\n        var axe = typeof params.axe !== 'undefined' ? params.axe : 'z';\n\n        var group = new THREE.Geometry();\n        var x = -modelSize.x/2.0;\n        var y = -modelSize.y/2.0;\n        var z = -modelSize.z/2.0;\n        switch(axe) {\n        case 'y':\n          for(let i=0; i<content.length; i++) {\n            if(content.charAt(i) == charFull) {\n              var m = new THREE.Mesh(geometry);\n              m.position.x = x;\n              m.position.y = y;\n              m.position.z = z;\n              m.updateMatrix();\n              group.merge( <THREE.Geometry> m.geometry, m.matrix );\n            }\n            x += blockSize;\n            if(content.charAt(i) == separatorY) {\n              x = -modelSize.x/2.0;\n              z += blockSize;\n            }\n            else if(content.charAt(i) == separatorZ) {\n              x = -modelSize.x/2.0;\n              z = -modelSize.z/2.0;\n              y += blockSize;\n            }\n          }\n          var mesh =  new THREE.Mesh(group, material[Math.floor((Math.random()*material.length))]);\n          mesh.castShadow = true;\n          return mesh;\n          \n        case 'z':\n          for(let i=0; i<content.length; i++) {\n            if(content.charAt(i) == charFull) {\n              var m = new THREE.Mesh(geometry);\n              m.position.x = x;\n              m.position.y = y;\n              m.position.z = z;\n              m.updateMatrix();\n              group.merge( <THREE.Geometry> m.geometry, m.matrix );\n            }\n            x += blockSize;\n            if(content.charAt(i) == separatorY) {\n              x = -modelSize.x/2.0;\n              y += blockSize;\n            }\n            else if(content.charAt(i) == separatorZ) {\n              x = -modelSize.x/2.0;\n              y = -modelSize.y/2.0;\n              z += blockSize;\n            }\n          }\n          var mesh = new THREE.Mesh(group, material[Math.floor((Math.random()*material.length))]);\n          mesh.castShadow = true;\n          return mesh;\n        }\n\n        var mesh =  new THREE.Mesh(group, material[Math.floor((Math.random()*material.length))]);\n        return mesh;\n\n    }\n\n    static createTextMesh(params: any) : THREE.Mesh {\n\n        var width = typeof params.width !== 'undefined' ? params.width : 10;\n        var height = typeof params.height !== 'undefined' ? params.height : 10;\n        var font = typeof params.font !== 'undefined' ? params.font : \"Bold 20px Arial\";\n        var align = typeof params.align !== 'undefined' ? params.align : 'center';\n        var color = typeof params.color !== 'undefined' ? params.color : 'rgba(255,0,0,1)';\n        var text = typeof params.text !== 'undefined' ? params.text : \"\";\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n\n        context.font = font;\n        context.fillStyle = color;\n        context.textAlign = align;\n        context.fillText(text, canvas.width/2, canvas.height/2);\n\n        var texture = new THREE.Texture(canvas);\n        texture.needsUpdate = true;\n\n        var mesh = new THREE.Mesh(\n            new THREE.PlaneBufferGeometry(width, height),\n            new THREE.MeshBasicMaterial( { map: texture, transparent:true, depthWrite: false, depthTest: false } )\n        );\n\n        return mesh;\n\n    }\n\n}\n"]}