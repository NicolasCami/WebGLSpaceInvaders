{"version":3,"sources":["scoreanimation.ts"],"names":[],"mappings":"AAAA;IAcI,wBAAY,MAAW,EAAE,IAAU;QAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,CAAC,EAAE,KAAK,WAAW,GAAG,MAAM,CAAC,EAAE,GAAG,GAAG,CAAC;QAC7D,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,CAAC,EAAE,KAAK,WAAW,GAAG,MAAM,CAAC,EAAE,GAAG,GAAG,CAAC;QAC7D,IAAI,CAAC,EAAE,GAAG,OAAO,MAAM,CAAC,EAAE,KAAK,WAAW,GAAG,MAAM,CAAC,EAAE,GAAG,cAAc,CAAC,SAAS,CAAC;QAClF,IAAI,CAAC,IAAI,GAAG,OAAO,MAAM,CAAC,IAAI,KAAK,WAAW,GAAG,MAAM,CAAC,IAAI,GAAG,EAAE,CAAC;QAClE,IAAI,CAAC,KAAK,GAAG,OAAO,MAAM,CAAC,KAAK,KAAK,WAAW,GAAG,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;QAEpE,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;QAC5C,CAAC;QACD,IAAI,CAAC,CAAC;YACF,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;gBAC3B,IAAI,EAAC,IAAI,CAAC,IAAI;gBACd,KAAK,EAAC,qBAAqB;gBAC3B,IAAI,EAAC,iBAAiB;gBACtB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,CAAC;aACZ,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;QAC5C,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,OAAO,MAAM,CAAC,CAAC,KAAK,WAAW,GAAG,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;QACxE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,OAAO,MAAM,CAAC,CAAC,KAAK,WAAW,GAAG,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;QACxE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,OAAO,MAAM,CAAC,CAAC,KAAK,WAAW,GAAG,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;QACxE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;QAEnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnC,CAAC;IAEM,gCAAO,GAAd;QACI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,GAAG,CAAC;QAE5B,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,GAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACjD,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAEM,qCAAY,GAAnB;QACI,MAAM,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;IACxD,CAAC;IAzDM,wBAAS,GAAG,IAAI,CAAC;IACjB,wBAAS,GAAG,MAAM,CAAC;IAyD9B,qBAAC;AAAD,CA5DA,AA4DC,IAAA","file":"scoreanimation.js","sourcesContent":["class ScoreAnimation {\n\n    static INCREMENT = 0.05;\n    static LIFE_TIME = 2000.0;\n\n    time: number;\n    vx: number;\n    vy: number;\n    vz: number;\n    text: string;\n    width: number;\n    mesh: THREE.Mesh;\n    game: Game;\n\n    constructor(params: any, game: Game) {\n        this.time = Date.now();\n        this.vx = typeof params.vx !== 'undefined' ? params.vx : 0.0;\n        this.vy = typeof params.vy !== 'undefined' ? params.vy : 0.0;\n        this.vz = typeof params.vz !== 'undefined' ? params.vz : ScoreAnimation.INCREMENT;\n        this.text = typeof params.text !== 'undefined' ? params.text : '';\n        this.width = typeof params.width !== 'undefined' ? params.width : 5;\n        \n        if(this.text in textData) {\n            this.mesh = textData[this.text].clone();\n        }\n        else {\n            textData[this.text] = textMesh({\n                text:this.text,\n                color:'rgba(255,255,255,1)',\n                font:'Bold 50px Arial',\n                width: this.width,\n                height: 3,\n            });\n            this.mesh = textData[this.text].clone();\n        }\n        \n        this.mesh.position.x = typeof params.x !== 'undefined' ? params.x : 0.0;\n        this.mesh.position.y = typeof params.y !== 'undefined' ? params.y : 0.0;\n        this.mesh.position.z = typeof params.z !== 'undefined' ? params.z : 0.0;\n        this.mesh.rotation.x = Math.PI / 2;\n\n        this.game = game;\n        this.game.scene.add(this.mesh);\n    }\n\n    public animate() {\n        this.mesh.position.x += this.vx;\n        this.mesh.position.y += this.vy;\n        this.mesh.position.z += this.vz;\n        this.mesh.rotation.z += 0.1;\n        \n        if(this.time+ScoreAnimation.LIFE_TIME < Date.now()) {\n            return true;\n        }\n        return false;\n    }\n\n    public getDirection() {\n        return new THREE.Vector3(this.vx, this.vy, this.vz);\n    }\n}\n"]}