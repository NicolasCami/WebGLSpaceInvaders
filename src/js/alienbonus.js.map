{"version":3,"sources":["alienbonus.ts"],"names":[],"mappings":"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","file":"alienbonus.js","sourcesContent":["class AlienBonus extends Alien {\n\n    static INCREMENT = 0.03;\n\n    score: number;\n    step: string;\n    LastSwitch: number;\n  \n    constructor(params: any, game: Game) {\n        super(params, game);\n\n        this.vx = typeof params.vx !== 'undefined' ? params.vx : AlienBonus.INCREMENT;\n        this.vy = typeof params.vy !== 'undefined' ? params.vy : 0.0;\n        this.vz = typeof params.vz !== 'undefined' ? params.vz : AlienBonus.INCREMENT;\n        this.LastSwitch = 0;\n        this.step = 'init';\n        this.mesh = randFromArray(alienData.type[3].model1).clone();\n        this.mesh2 = randFromArray(alienData.type[3].model2).clone();\n        this.mesh2.visible = false;\n        this.score = 500;\n        \n        this.mesh.position.x = typeof params.x !== 'undefined' ? params.x : 10.0;\n        this.mesh.position.y = typeof params.y !== 'undefined' ? params.y : 21.0;\n        this.mesh.position.z = typeof params.z !== 'undefined' ? params.z : 10.0;\n\n        this.mesh2.position.x = typeof params.x !== 'undefined' ? params.x : this.mesh.position.x;\n        this.mesh2.position.y = typeof params.y !== 'undefined' ? params.y : this.mesh.position.y;\n        this.mesh2.position.z = typeof params.z !== 'undefined' ? params.z : this.mesh.position.z;\n    }\n  \n            \n    // return false if need to be deleted\n    public animate(): boolean {\n        if((Date.now() - this.LastSwitch) > 1000) {  \n          this.switchMesh();\n          this.LastSwitch = Date.now();\n        }    \n        switch(this.step) {\n          case 'init':\n            if(this.mesh.position.z > 0) {\n              this.mesh.position.z -= this.vz;\n              this.mesh2.position.z -= this.vz;\n            }\n            else {\n              this.mesh.position.z = 0.0;\n              this.mesh2.position.z = 0.0;\n              this.step = 'move';\n            }\n            break;\n          case 'move':\n            this.mesh.position.x -= this.vx;\n            this.mesh2.position.x -= this.vx;\n            if(this.mesh.position.x < -10.0) {\n              this.step = 'end';\n            }\n            break;\n          case 'end':\n            if(this.mesh.position.z < 10.0) {\n              this.mesh.position.z += this.vz;\n              this.mesh2.position.z += this.vz;\n            }\n            else {\n              return false;\n            }\n            break;\n        }\n        return true;\n    };\n\n}\n"]}