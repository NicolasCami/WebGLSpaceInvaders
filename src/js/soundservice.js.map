{"version":3,"sources":["soundservice.ts"],"names":[],"mappings":";;IAEA;QAAA;QA0DA,CAAC;QArDU,2BAAc,GAArB,UAAsB,IAAY;YAC9B,IAAI,MAAc,CAAC;YAEnB,EAAE,CAAA,CAAC,IAAI,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC7B,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACvC,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,MAAM,IAAI,KAAK,CAAC,uCAAuC,GAAG,IAAI,CAAC,CAAC;YACpE,CAAC;YAED,MAAM,CAAC,MAAM,CAAC;QAClB,CAAC;QAEM,sBAAS,GAAhB,UAAiB,IAAY,EAAE,IAAY,EAAE,MAAoB,EAAE,IAAqB;YAA3C,sBAAoB,GAApB,YAAoB;YAAE,oBAAqB,GAArB,YAAqB;YAEpF,EAAE,CAAA,CAAC,IAAI,IAAI,YAAY,CAAC,MAAM,CAAC,CAAA,CAAC;gBAC5B,MAAM,IAAI,KAAK,CAAC,sCAAsC,GAAG,IAAI,CAAC,CAAC;YACnE,CAAC;YAED,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,aAAK,CAAE,CAAE,IAAI,CAAE,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;YAC/D,EAAE,CAAA,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;gBACnB,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;YAC/C,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;YAC5C,CAAC;YAED,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC;QAEM,kBAAK,GAAZ;YACI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC;QAC7B,CAAC;QAEM,mBAAM,GAAb;YAEI,IAAI,IAAa,CAAC;YAClB,YAAY,CAAC,IAAI,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC;YAEvC,EAAE,CAAA,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;gBACnB,GAAG,CAAC,CAAC,IAAI,MAAI,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;oBACnC,YAAY,CAAC,MAAM,CAAC,MAAI,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC/C,CAAC;YACL,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,GAAG,CAAC,CAAC,IAAI,MAAI,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;oBACnC,YAAY,CAAC,MAAM,CAAC,MAAI,CAAC,CAAC,WAAW,EAAE,CAAC;gBAC5C,CAAC;YACL,CAAC;YAED,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC;QAC7B,CAAC;QAtDc,mBAAM,GAAQ,EAAE,CAAC;QACjB,iBAAI,GAAY,IAAI,CAAC;QAuDxC,mBAAC;IAAD,CA1DA,AA0DC,IAAA;IA1DY,oBAAY,eA0DxB,CAAA","file":"soundservice.js","sourcesContent":["import { Sound } from \"./sound\";\n\nexport class SoundService {\n\n    private static sounds: any = {};\n    private static mute: boolean = true;\n\n    static getSoundByName(name: string): Sound {\n        let result : Sound;\n\n        if(name in SoundService.sounds) {\n            result = SoundService.sounds[name];\n        }\n        else {\n            throw new Error(\"SoundService: sound does not exists: \" + name);\n        }\n\n        return result;\n    }\n\n    static loadSound(name: string, file: string, volume: number = 0.5, loop: boolean = false) : Sound {\n        \n        if(name in SoundService.sounds){\n            throw new Error(\"SoundService: sound already exists: \" + name);\n        }\n\n        SoundService.sounds[name] = new Sound( [ file ], volume, loop);\n        if(SoundService.mute) {\n            SoundService.sounds[name].audio.volume = 0;\n        }\n        else {\n            SoundService.sounds[name].resetVolume();\n        }\n\n        return SoundService.sounds[name];\n    }\n\n    static muted() : boolean {\n        return SoundService.mute;\n    }\n\n    static toggle() : boolean {\n\n        let name : string;\n        SoundService.mute = !SoundService.mute;\n\n        if(SoundService.mute) {\n            for (let name in SoundService.sounds) {\n                SoundService.sounds[name].audio.volume = 0;\n            }\n        }\n        else {\n            for (let name in SoundService.sounds) {\n                SoundService.sounds[name].resetVolume();\n            }\n        }\n\n        return SoundService.mute;\n    }\n\n}\n"]}