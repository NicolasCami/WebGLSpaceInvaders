{"version":3,"sources":["key.ts"],"names":[],"mappings":"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","file":"key.js","sourcesContent":["class Key {\n\n    private static instance: Key;\n\n    static keyCode = {\n        escape: 27,\n        space: 32,\n        left: 37,\n        up: 38,\n        right: 39,\n        down: 40,\n        h: 72,\n        i: 73,\n        k: 75,\n        m: 77\n    };\n\n    pressed: any;\n\n    constructor() {\n\n        if(Key.instance){\n            throw new Error(\"Key is a singleton. Use Key.getInstance() instead.\");\n        }\n\n        this.pressed = {};\n\n        this.initListeners();\n    }\n\n    private initListeners() {\n        window.addEventListener('keyup', function(event) { this.onKeyup(event); }.bind(this), false);\n        window.addEventListener('keydown', function(event) { this.onKeydown(event); }.bind(this), false);\n        window.addEventListener('click', function(event) { Game.getInstance().menu.mouseClick(event); }.bind(this), false);\n        window.addEventListener('mousemove', function(event) { Game.getInstance().menu.mouseMove(event); }.bind(this), false);\n    }\n\n    static getInstance() {\n        if (!Key.instance) {\n            Key.instance = new Key();\n        }\n        return Key.instance;\n    }\n\n    public isDown(keyCode: number): boolean {\n        return this.pressed[keyCode];\n    }\n\n    public onKeydown(event) {\n        this.pressed[event.keyCode] = true;\n        if(!Game.getInstance().pause) {\n            if(event.key == \"0\") {\n                Game.getInstance().currentCamera = 0;\n            }\n            if(event.key == \"1\") {\n                Game.getInstance().currentCamera = 1;\n            }\n            if(event.keyCode == Key.keyCode.k) {\n                Game.getInstance().world.killThemAll();\n            }\n            if(event.keyCode == Key.keyCode.i) {\n                Game.getInstance().world.invinciblePad();\n                //Game.getInstance().invincibleGUI();\n            }\n            if(event.keyCode == Key.keyCode.h) {\n                Game.getInstance().help();\n            }\n            if(event.keyCode == Key.keyCode.escape) {\n                Game.getInstance().pauseOn();\n            }\n        }\n        else {\n            if(event.keyCode == Key.keyCode.escape) {\n                Game.getInstance().pauseOff();\n            }\n        }\n\n        if(event.keyCode == Key.keyCode.m) {\n            Game.getInstance().musicOnOff();\n        }\n    }\n\n    public onKeyup(event) {\n        delete this.pressed[event.keyCode];\n    }\n\n}\n\n$(new Function('var key = Key.getInstance();'));"]}