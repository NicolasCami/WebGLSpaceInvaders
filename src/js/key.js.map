{"version":3,"sources":["key.ts"],"names":[],"mappings":"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","file":"key.js","sourcesContent":["import { Game } from \"./game\";\n\nexport class Key {\n\n    private static instance: Key;\n\n    static keyCode = {\n        escape: 27,\n        space: 32,\n        left: 37,\n        up: 38,\n        right: 39,\n        down: 40,\n        h: 72,\n        i: 73,\n        k: 75,\n        m: 77\n    };\n\n    pressed: any;\n\n    constructor() {\n\n        if(Key.instance){\n            throw new Error(\"Key is a singleton. Use Key.getInstance() instead.\");\n        }\n\n        this.pressed = {};\n\n        this.initListeners();\n    }\n\n    private initListeners() {\n        window.addEventListener('keyup', function(event) { this.onKeyup(event); }.bind(this), false);\n        window.addEventListener('keydown', function(event) { this.onKeydown(event); }.bind(this), false);\n        window.addEventListener('click', function(event) { Game.getInstance().menu.mouseClick(event); }.bind(this), false);\n        window.addEventListener('mousemove', function(event) { Game.getInstance().menu.mouseMove(event); }.bind(this), false);\n    }\n\n    static getInstance() {\n        if (!Key.instance) {\n            Key.instance = new Key();\n        }\n        return Key.instance;\n    }\n\n    public isDown(keyCode: number): boolean {\n        return this.pressed[keyCode];\n    }\n\n    public onKeydown(event) {\n        this.pressed[event.keyCode] = true;\n        if(!Game.getInstance().pause) {\n            if(event.key == \"0\") {\n                Game.getInstance().currentCamera = 0;\n            }\n            if(event.key == \"1\") {\n                Game.getInstance().currentCamera = 1;\n            }\n            if(event.keyCode == Key.keyCode.k) {\n                Game.getInstance().world.killThemAll();\n            }\n            if(event.keyCode == Key.keyCode.i) {\n                Game.getInstance().world.invinciblePad();\n                //Game.getInstance().invincibleGUI();\n            }\n            if(event.keyCode == Key.keyCode.h) {\n                Game.getInstance().help();\n            }\n            if(event.keyCode == Key.keyCode.escape) {\n                Game.getInstance().pauseOn();\n            }\n        }\n        else {\n            if(event.keyCode == Key.keyCode.escape) {\n                Game.getInstance().pauseOff();\n            }\n        }\n\n        if(event.keyCode == Key.keyCode.m) {\n            Game.getInstance().musicOnOff();\n        }\n    }\n\n    public onKeyup(event) {\n        delete this.pressed[event.keyCode];\n    }\n\n}"]}